<html>
<head>
  <!-- CSS Imports -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">
  <!-- JS Imports -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <!-- Meta Data -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- CSS Styles -->
  <style type="text/css">
  body {
   text-align: center;
   background-color: white;
   background-image: url(http://pixelxpress.ca/wp-content/uploads/2014/09/blurred-city-lights-night1.jpg);
   padding: 40px;
 }
 .login-box {
   min-width: 280px;
   max-width: 330px;
   background-color: rgba(255,255,255,0.7);
   margin: 0px 0px 0px 0px;
 }
 .login-box .form-control {
   margin-bottom: 0px;
 }
 header {
  position: relative;
  width: 100%;
  min-height: auto;
  text-align: center;
  color: white;
}
header .header-content {
  position: relative;
  text-align: center;
  padding: 100px 15px 100px;
  width: 100%;
}
header .header-content .header-content-inner h1 {
  font-weight: 700;
  text-transform: uppercase;
  margin-top: 0;
  margin-bottom: 0;
  font-size: 30px;
}
header .header-content .header-content-inner hr {
  margin: 30px auto;
  width:90%;
}
header .header-content .header-content-inner p {
  font-weight: 300;
  color: rgba(255, 255, 255, 0.7);
  font-size: 16px;
  margin-bottom: 50px;
}
.navbar-default .navbar-brand {
  margin:7px 0px 0px 0px;
  font-size:50;
  color: #ccfffe;
  font-family: 'Lobster', cursive;
}
.dropdown .dropdown-toggle {
  font-family: 'Lobster', cursive;
  font-size:25;
  color: #ffcccc !important;
  padding:24px 10px 10px 10px;
  height:65px;
}
</style>
<title>Smartnet</title>
<script type="text/javascript">
function loginAJAX() {
	var formser = $("#loginform").serializeArray();
	$.post("/checklogin", $("#loginform").serialize(),
		function(data,status) {
			if(data.toString().substring(0,1) == '/') {
				window.location.href = data;
				return;
			}
			var alerttype="alert-danger";
			var alerttext="Error!";
        		$("#loginerror").html("<div class='alert "+alerttype+" alert-dismissable'><a href='#' class='close' data-dismiss='alert' aria-label='close'>&times;</a><strong>"+alerttext+" </strong>"+data+"</div>");
      		});
}
function signupAJAX() {
  var formser = $("#signupform").serializeArray();
  $.post("/createaccount", $("#signupform").serialize(),
    function(data,status) {
     if(data.toString().substring(0,1) == '/') {
       window.location.href = data;
       return;
     }

     var alerttype="alert-danger";
     var alerttext="Error!";
     $("#signuperror").html("<div class='alert "+alerttype+" alert-dismissable'><a href='#' class='close' data-dismiss='alert' aria-label='close'>&times;</a><strong>"+alerttext+" </strong>"+data+"</div>");
    });
}
$(document).ready(function(){
  $('#logindrop').addClass('open');
});
</script>
</head>

<!-- Body starts here -->

<body>
  <!-- Navbar contents -->
  <nav class="navbar navbar-default navbar-inverse" role="navigation">
    <div class="navbar-header">
     <a class="navbar-brand" href="/"><b>Smartnet</b></a>
   </div>

   <ul class="nav navbar-nav navbar-right">

    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Register<span class="caret"></span></a>
      <div class="login-box well well-sm dropdown-menu">
        <legend><b>Create an Account!</b></legend>
        <div id="signuperror"></div>
        <form action="/createaccount" method="post" id="signupform">
          <div class="input-group" style="margin-bottom:10px">
            <span class="input-group-addon"><i class="glyphicon glyphicon-book"></i></span>
            <input type="text" name="fullInput" class="form-control" placeholder="Full Name">
          </div>
          <div class="input-group" style="margin-bottom:10px">
            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
            <input type="text" name="nameInput" class="form-control" placeholder="Username">
          </div>
          <div class="input-group" style="margin-bottom:10px">
            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
            <input type="password" name="passInput" class="form-control" placeholder="Password">
          </div>
          <div class="input-group" style="margin-bottom:10px">
            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
            <input type="password" name="passInput2" class="form-control" placeholder="Confirm Password">
          </div>
          <input style="width:100%" type="button" value="Signup" class="btn btn-lg btn-primary btn-block" onclick="signupAJAX()">
        </form>
      </div>
    </li>
    <li class="dropdown" id="logindrop">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Login<span class="caret"></span></a>
      <div class="login-box well well-sm dropdown-menu">
       <legend><b>Welcome Back!</b></legend>
       <div id="loginerror"></div>
       <form action="/checklogin" method="post" id="loginform">
         <div class="input-group" style="margin-bottom:10px">
           <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
           <input type="text" name="nameInput" class="form-control" placeholder="Username">
         </div>

         <div class="input-group" style="margin-bottom:10px">
          <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
          <input type="password" name="passInput" class="form-control" placeholder="Password">
        </div>

        <input style="width:100%" type="button" value="Login" class="btn btn-lg btn-primary btn-blocki" onclick="loginAJAX()">
      </form>
    </div>
  </li>
  </li>
  <li><p class="navbar-text"></p></li>
</nav>

<!-- Main text contents -->
<header>
  <div class="header-content">
    <div class="header-content-inner">
      <h1 id="homeHeading">Welcome to Smartnet</h1>
      <hr>
      <p>Click Login or Register in the top-right to enter the social network of the future.</p>
    </div>
  </div>
</header>
</body>
</html>
